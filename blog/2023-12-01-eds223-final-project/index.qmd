---
title: "Determining Suitable Habitat for Oysters within EEZ regions of California"
description: "In this post, I analyze suitable habitat for oysters, based on temperature and depth parameters. I then find the amount of area within California EEZ regions that meets these requirements"
author:
  - name: Fletcher McConnell
    url: https://fletcher-m.github.io/
   # orcid:
    affiliation: MEDS
    affiliation-url: https://bren.ucsb.edu/masters-programs/master-environmental-data-science/academics-meds
 # - name: other person
date: 12-01-2023
categories: [Quarto, MEDS, Workshop]
bibliography: references.bib
citation:
  url: https://fletcher-m.github.io/blog/2023-10-23-my-first-post/
#image: ocean_data_image.jpeg
# draft: true --> This setting will not show your blog post on your website but you can still see from url
---

## Finding Suitable Habitat for Oysters in California EEZ Boundaries

Author: Fletcher McConnell

```{r, results='hide'}
# load packages
library(sf)
library(terra)
library(here)
library(dplyr)
library(tmap)
library(tidyverse)
library(stringr)
library(ggplot2)
library(raster)
```

## Finding Suitable Habitat for Oysters Along the California Coast

### Data Wrangling

First, I was interested in what portions of Califonia's coastline would be suitable for Oysters. They have an ideal depth range of 0 to 70 meters and ideal temperature range of 11 to 30 degrees Celsius. In order to find where these parameters are met, I used data of annual sea surface temperatures from 2008 to 2012 and then also used bathymetry data of the ocean. These first series of steps involve me doing a bit of data wrangling and making sure that I would be able to stack my depth raster with my temperature raster. I had previously combined all 4 years of temperature data into a raster stack 'all_sst'.

```{r, results='hide', eval=FALSE}
# find mean SST
all_sst_mean <- mean(all_sst)

# convert SST data to Celsius
all_sst_mean <- all_sst_mean - 273.15

# crop depth to match SST raster
depth <- crop(depth, all_sst_mean)

# resample depth data to match SST resolution
depth <- resample(x = depth, y =  all_sst_mean, method = "near")

# check that that depth and SST match in resolution, extent and crs (by stacking them)
depth_sst <- c(depth, all_sst_mean)

```

### Setting Raster Values to Align with Temperature and Depth Parameters

After I had my depth and temperature rasters combined, I then needed to filter these rasters to the values that I wanted. As I mentioned above, Oysters like temperature between 11 and 33 degrees Celsius and do best in depths from 0 to 70 meters. After assigning these parameter values, I plotted areas along the coast that meet both of these criteria. The following is what I came up with:

![](temp_depth.png)

The above plot shows the California coastline. In this plot, I have set values within temperature and depth parameters equal to "1" and combined both rasters. The colored regions represent areas that are within both of the specified depth and temperature regions.
